{% extends "base.html" %}

{% block content %}
<div class="min-h-screen flex flex-col items-center py-8 md:py-12 px-4 sm:px-6 lg:px-8">
  <div class="max-w-6xl w-full">
    <!-- Hero Section -->
    <div class="text-center mb-12 md:mb-16 glass-card p-8 rounded-3xl shadow-xl border border-white/30 backdrop-blur-xl">
      <h1 class="text-3xl md:text-5xl font-extrabold text-indigo-950 uppercase tracking-tighter">
        Guía de Usuario
      </h1>
      <p class="mt-4 max-w-2xl mx-auto text-lg md:text-xl text-indigo-900/70 font-medium">
        Bienvenido al centro de ayuda. Aquí encontrarás todo lo que necesitas para gestionar tus libros y préstamos de manera eficiente.
      </p>
    </div>

    <!-- Main Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16">
      
      <!-- Card: Catálogo -->
      <div class="glass-card rounded-2xl shadow-xl p-6 md:p-8 hover:shadow-2xl transition-all border-t-4 border-indigo-500 backdrop-blur-xl group hover:-translate-y-1">
        <div class="size-14 bg-indigo-100 rounded-lg flex items-center justify-center mb-6">
          <svg class="size-8 text-indigo-600" viewBox="0 0 32 32" fill="none" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M26,3H9C7.3,3,6,4.3,6,6v0c0,1.7,1.3,3,3,3h17v10"></path>
            <path stroke-linecap="round" stroke-linejoin="round" d="M18,29H9c-1.7,0-3-1.3-3-3v0V6"></path>
            <line x1="26" y1="6" x2="9" y2="6"></line>
            <line x1="10" y1="9" x2="10" y2="29"></line>
          </svg>
        </div>
        <h3 class="text-xl font-bold text-gray-900 mb-3">Catálogo de Libros</h3>
        <p class="text-gray-600 leading-relaxed">
          Explora nuestra biblioteca digital. Puedes buscar por título, autor o cota. Usa los filtros laterales para encontrar exactamente lo que buscas.
        </p>
        <ul class="mt-4 space-y-2 text-sm text-gray-500">
          <li class="flex items-start gap-2">
            <span class="text-indigo-500 font-bold">•</span>
            Búsqueda instantánea en el catálogo.
          </li>
          <li class="flex items-start gap-2">
            <span class="text-indigo-500 font-bold">•</span>
            Filtros por año y clasificación.
          </li>
        </ul>
      </div>

      <!-- Card: Solicitudes -->
      <div class="glass-card rounded-2xl shadow-xl p-6 md:p-8 hover:shadow-2xl transition-all border-t-4 border-green-500 backdrop-blur-xl group hover:-translate-y-1">
        <div class="size-14 bg-green-100 rounded-lg flex items-center justify-center mb-6">
          <svg class="size-8 text-green-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <h3 class="text-xl font-bold text-gray-900 mb-3">Pedir un Libro</h3>
        <p class="text-gray-600 leading-relaxed">
          Cuando encuentres un libro disponible, agrégalo a tu lista. Puedes solicitar hasta 10 libros a la vez para su revisión.
        </p>
        <ul class="mt-4 space-y-2 text-sm text-gray-500">
          <li class="flex items-start gap-2">
            <span class="text-green-500 font-bold">•</span>
            Carrito de solicitudes dinámico.
          </li>
          <li class="flex items-start gap-2">
            <span class="text-green-500 font-bold">•</span>
            Seguimiento de peticiones pendientes.
          </li>
        </ul>
      </div>

      <!-- Card: Devoluciones -->
      <div class="glass-card rounded-2xl shadow-xl p-6 md:p-8 hover:shadow-2xl transition-all border-t-4 border-amber-500 backdrop-blur-xl group hover:-translate-y-1">
        <div class="size-14 bg-amber-100 rounded-lg flex items-center justify-center mb-6">
          <svg class="size-8 text-amber-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <h3 class="text-xl font-bold text-gray-900 mb-3">Control de Préstamos</h3>
        <p class="text-gray-600 leading-relaxed">
          Gestiona tus libros activos y revisa tu historial. El sistema te avisará sobre los libros que tienes actualmente en posesión.
        </p>
        <ul class="mt-4 space-y-2 text-sm text-gray-500">
          <li class="flex items-start gap-2">
            <span class="text-amber-500 font-bold">•</span>
            Historial detallado de todas tus operaciones.
          </li>
          <li class="flex items-start gap-2">
            <span class="text-amber-500 font-bold">•</span>
            Confirmación rápida de devoluciones.
          </li>
        </ul>
      </div>

    </div>

    <!-- Secondary Sections -->
    <div class="glass-card rounded-3xl shadow-2xl p-6 md:p-10 mb-16 overflow-hidden relative border border-white/30 backdrop-blur-3xl">
      <div class="absolute top-0 right-0 p-8 opacity-5">
        <svg class="size-64 text-indigo-600" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
        </svg>
      </div>

      <h2 class="text-3xl font-bold text-gray-800 mb-10 text-center">Funcionalidades Avanzadas</h2>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
        {% if user.is_staff or user.is_superuser %}
        <!-- Staff specific -->
        <div class="space-y-6">
          <h4 class="text-indigo-600 font-bold uppercase tracking-wider text-sm flex items-center gap-2">
             <span class="size-2 bg-indigo-600 rounded-full"></span>
             Módulos de Gestión (Staff)
          </h4>
          <div class="space-y-4">
            <div class="flex gap-4">
              <div class="font-bold text-gray-700 bg-gray-100 size-8 flex items-center justify-center rounded-full shrink-0 text-sm">1</div>
              <div>
                <p class="font-semibold text-gray-900">Dashboard y Estadísticas</p>
                <p class="text-gray-500 text-sm">Visualiza métricas generales sobre el uso del sistema y préstamos activos.</p>
              </div>
            </div>
            <div class="flex gap-4">
              <div class="font-bold text-gray-700 bg-gray-100 size-8 flex items-center justify-center rounded-full shrink-0 text-sm">2</div>
              <div>
                <p class="font-semibold text-gray-900">Reportes Detallados</p>
                <p class="text-gray-500 text-sm">Genera y descarga reportes personalizados para auditoría y control de libros.</p>
              </div>
            </div>
            <div class="flex gap-4">
              <div class="font-bold text-gray-700 bg-gray-100 size-8 flex items-center justify-center rounded-full shrink-0 text-sm">3</div>
              <div>
                <p class="font-semibold text-gray-900">Aprobación de Solicitudes</p>
                <p class="text-gray-500 text-sm">Valida y aprueba los préstamos que los usuarios han solicitado desde el Hub de Préstamos.</p>
              </div>
            </div>
          </div>
        </div>
        {% endif %}

        <!-- All users -->
        <div class="space-y-6">
          <h4 class="text-red-600 font-bold uppercase tracking-wider text-sm flex items-center gap-2">
             <span class="size-2 bg-red-600 rounded-full"></span>
             Herramientas Generales
          </h4>
          <div class="space-y-4">
            <div class="flex gap-4">
              <div class="font-bold text-gray-700 bg-gray-100 size-8 flex items-center justify-center rounded-full shrink-0 text-sm">A</div>
              <div>
                <p class="font-semibold text-gray-900">Diccionario de Referencia</p>
                <p class="text-gray-500 text-sm">Consulta rápidamente términos y significados importantes para tu búsqueda.</p>
              </div>
            </div>
            <div class="flex gap-4">
              <div class="font-bold text-gray-700 bg-gray-100 size-8 flex items-center justify-center rounded-full shrink-0 text-sm">B</div>
              <div>
                <p class="font-semibold text-gray-900">Fichas en PDF</p>
                <p class="text-gray-500 text-sm">Genera una ficha técnica descargable de cualquier libro del catálogo.</p>
              </div>
            </div>
            <div class="flex gap-4">
              <div class="font-bold text-gray-700 bg-gray-100 size-8 flex items-center justify-center rounded-full shrink-0 text-sm">C</div>
              <div>
                <p class="font-semibold text-gray-900">Gestión de Perfil</p>
                <p class="text-gray-500 text-sm">Mantén tus datos actualizados para recibir notificaciones y préstamos sin demoras.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Call to Action -->
    <div class="bg-indigo-700 rounded-2xl p-8 text-white text-center shadow-lg">
      <h3 class="text-2xl font-bold mb-4">¿Necesitas más ayuda?</h3>
      <p class="mb-6 opacity-90 mx-auto max-w-xl">Si tienes alguna duda específica o has encontrado un error en el sistema, por favor contacta al administrador.</p>
      <a href="{% url 'tasks' %}" class="inline-block bg-white text-indigo-700 px-8 py-3 rounded-full font-bold hover:bg-opacity-90 transition-colors">
        Ir al Catálogo de Libros
      </a>
    </div>

    <footer class="mt-12 text-center text-gray-400 text-sm">
      &copy; 2024 Academia - Sistema de Gestión de Préstamos • Todos los derechos reservados.
    </footer>

  </div>
</div>
{% endblock %}
